function Banner(e){function n(){var n=document.createDocumentFragment();c=e.map(function(e,t){var a=document.createElement("a");return a.title=e.name,a.href=e.anchorHref,a.style.backgroundImage="url("+e.imageUrl+")",n.appendChild(a),a}),o.appendChild(n)}function t(){var n=document.createElement("div");n.className="indicator",i=e.map(function(e,t){var r=document.createElement("em");return r.appendChild(document.createTextNode(t+1)),n.appendChild(r),r.addEventListener("touchend",function(){s=d,d=t,a(),this.classList.add("current")},0),r}),i[0].classList.add("current"),o.appendChild(n)}function a(){c[s].classList.remove("current"),c[s].classList.add("previous"),c[d].classList.remove("previous"),c[d].classList.add("current"),i[s].classList.remove("current"),i[d].classList.remove("current")}function r(){var n=e.length;setInterval(function(){d=d<n-1?d+1:0,s=d>0?d-1:n-1,a()},1e3)}var c,i,s,o=e.position,e=e.option,d=0;n(),t(),r()}var banner=document.querySelector(".banner");ajax({url:"http://www.ikindness.cn/api/test/get",success:function(e){new Banner({position:banner,option:e.data})}});